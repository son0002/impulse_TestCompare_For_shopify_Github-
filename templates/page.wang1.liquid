{{ 'jq.js' | asset_url | script_tag }}
{{ 'swiper.css' | asset_url | stylesheet_tag }}
{{ 'swiper.js' | asset_url | script_tag }}
{% comment %}
Auto-generated by Shogun.
This file can be re-written at any time.
{% endcomment %}

{% render 'shogun-products', content: page %}
<div class="shg-clearfix"></div>
{{ page.content }}
<style>
    .title-weight h2,
    .title-weight h1,
    .title-weight h3,
    .title-weight span,
    .title-weight a {
        font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif !important;
        font-weight: 400;
    }

    .page_widths {
        margin: 0 auto !important;
        max-width: 1420px;
    }

    .shg-row p {
        margin: 0 !important;
    }

    .border-color {
        border: 1px solid;
        border-image: linear-gradient(0deg, #AA8924, #EACF75, #C59D4B, #B28436, #EDD378, #BC9047) 10 10;
        background: linear-gradient(245deg, #0B0B0B 0%, #202122 50%, #0B0B0B 100%);
    }

    .border-B {
        border: 5px solid;
        border-image: linear-gradient(0deg, #AA8924, #EACF75, #C59D4B, #B28436, #EDD378, #BC9047) 10 10;
    }


    #s-caca799e-8e8b-498c-88b9-66587d46f99f {
        background: linear-gradient(-41deg, #9C6B15 0%, #E6C971 10%, #EACF75 21%, #C59D4B 36%, #EACF75 48%, #B28436 63%, #EDD378 81%, #B68431 98%);
        color: #000;
        border-bottom: 2px solid #000;
    }

    #s-f02fcde4-644e-4076-9a9f-cda8393f8292 {
        background: linear-gradient(-41deg, #9C6B15 0%, #E6C971 10%, #EACF75 21%, #C59D4B 36%, #EACF75 48%, #B28436 63%, #EDD378 81%, #B68431 98%);
    }

    .text-gradient h2 {
        font-size: 36px;
        font-weight: bold;
        background: linear-gradient(0deg, #AA8924, #EACF75, #C59D4B, #B28436, #EDD378, #BC9047);
        -webkit-background-clip: text;
        /* For webkit-based browsers like Chrome and Safari */
        background-clip: text;
        color: transparent;
    }

    .lazyloaded {
        width: 100%;
        display: block;
    }

    .swiper {
        width: 100%;
    }

    .product-box {
        display: flex;
        display: -webkit-flex;
        overflow: hidden;
        align-items: center;
        justify-content: space-between;
        /* margin: 0 -30px */
    }


    #blind {
        margin: 0;
        padding: 30px;
    }

    #blind .stamped-fa-star {
        color: #fff !important;
    }

    .product-box svg,
    #productbig svg {
        color: #dbc885;
    }

    .reviews img {
        width: 100%;
    }

    .reviews {
        display: flex;
        justify-content: space-between;
        padding: 3%;
        min-height: 350px;
        align-items: center;
    }


    .name {
        font-weight: 600;
    }

    .testimonial-stars {
        color: #fea801;
    }

    .reviews h2 {
        font-weight: 700;
    }

    #certify {
        position: relative;
        margin: 0 auto;
        overflow: hidden;
    }

    #certify .swiper-container {
        padding: 20px 0;
    }

    #certify .swiper-slide {
        background: #fff;
        box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.16);
    }

    #certify .swiper-slide img {
        display: block;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet {
        margin: 0 5px;
        border: 3px solid #fff;
        background-color: #d5d5d5;
        width: 10px;
        height: 10px;
        opacity: 1;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet-active {
        border: 3px solid #B70101;
        background-color: #fff;
    }

    #certify .swiper-button-prev,
    #certify .swiper-button-next {
        color: #000;
    }

    .product-title {
        font-size: 20px;
        margin: 10px 0 0 0;
    }

    .product-info .stamped-badge,
    .product-info .product_infos {
        margin: 0;
    }

    #blind .product-title,
    #product0 .product-title {
        font-size: 26px;
    }

    .product-price-new {
        display: inline-block;
        color: #bc3d1d;
        font-size: 30px;
        font-weight: 700;
    }

    .product-price-old {
        display: inline-block;
        color: #000;
        font-size: 20px;
        text-decoration: line-through #bc3d1d;
        -webkit-text-decoration: line-through #bc3d1d;
        font-weight: 600;
    }

    .product_sku {
        display: flex;
        display: -webkit-flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 8px 0;
    }

    .product_sku .product_sku_item:nth-child(1) {
        background: #fff;
        color: #000;
    }

    #product0 .product_sku .product_sku_item:nth-child(1),
    #blind .product_sku .product_sku_item:nth-child(1) {
        background: #000;
        color: #fff;
        width: 100%;
        margin-bottom: 7px;
    }

    #product0 .product_sku .product_sku_item,
    #blind .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #000;
        color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
    }



    .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #fff;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
        margin-bottom: 10px;
        max-height: 37px;
    }

    .product_sku_item div {
        text-align: center;
        padding: 9px 2px;
        cursor: pointer;
    }


    .btns {
        text-align: center;
        background: #bc3d1d;
        border-radius: 5px;
        width: 100%;
    }

    .father-slide .btns,
    .swipersb2 .btns {
        background: #bc3d1d;
    }

    .btnss a {
        border: 0 !important;
         background: #bc3d1d;
    }

    #blind .btns {
        background: #bc3d1d;
    }

    .btns button {
        width: 100%;
        height: 100%;
        padding: 8px 0;
    }

    .btns span {
        font-weight: 700;
        font-size: 18px;
        color: #fff;
    }

    #blind .infos {
        background-color: rgba(241, 242, 246, .4);
        padding: 10px;
        margin: 20px 0;
    }

    .infos ul {
        margin: 10px 0;
    }

    .infos li {
        list-style: none;
        display: flex;
        align-items: center;
    }

    .infos p {
        margin-bottom: 10px !important;
    }

    .infos li::before {
        content: '';
        display: inline-block;
        margin-right: 3px;
        background-color: #bd3d1d;
        width: 5px;
        height: 5px;
        border-radius: 50%;
    }

    .wihites .product-title a,
    .wihites .stamped-badge-caption,
    .wihites .product-price-old,
    .wihites .affirm-as-low-as,
    .wihites .__affirm-logo,
    .wihites .affirm-modal-trigger,
    .wihites ul,
    .wihites p,
    .wihites {
        color: #fff;
    }

    .swipersb2 .product_sku_item:nth-child(3) {
        display: none;
    }

    @media screen and (min-width: 768px) {
        .product-box-item {
            flex: 1;
            /* margin: 0 30px; */
            max-width: calc(50% - 10px);
        }

        #blind .product-box-item {
            flex: 1;
            max-width: calc(33% - 10px);
        }

        #three-box .product-box-item,
        #product11 .product-box-item {
            flex: 1;
            /* margin: 0 10px; */
            max-width: calc(33% - 10px);
        }

        .slide-flex .product-box-item {
            flex: 1;
            /* margin: 0 10px; */
            max-width: calc(25% - 10px);
        }

        .slide-flex:nth-child(2) {
            margin-top: 40px;
        }

        #three-box #product0,
        .wihites .product-box-item,

        #blind {
            margin-left: 0;
        }

        #product0 .product-box-item:nth-child(1) {
            margin-left: 0;
        }

        #blind .product-box-item:nth-child(1) {
            margin-left: 0;
        }

        .reviews div:nth-child(1) {
            width: 70%;
        }

        .reviews div:nth-child(2) {
            width: 27%;
        }

        .product-box-item:nth-child(2n) {
            margin: 0;
        }

        #s-1ed0491f-2277-40a0-8597-a2c7d3c7391c .shg-c-lg-4 {
            border-right: 1px solid #fff;
        }

        #s-1ed0491f-2277-40a0-8597-a2c7d3c7391c .shg-c-lg-4:last-child {
            border: 0;
        }

        .father-slide .product-box-item:nth-child(2n) {
            margin-left: 10px;
        }

        .father-slide .product-box-item:nth-child(2n-1) {
            margin-right: 10px;
        }

        .father-slide .product-title {
            font-size: 30px;
        }
    }

    .box-quantity {
        display: flex;
        align-items: center;
        font-size: 16px;
    }

    .inventory_quantity {
        color: #bc3d1d;
        font-weight: 600;
        font-size: 20px;
    }

    .flex img {
        width: 20px;
        margin-right: 5px;
    }

    .flex div {
        display: flex;
        align-items: center;
    }

    .swipers1,
    .swipers2,
    .swipers22 {
        width: 90%;
        padding-bottom: 30px;
    }


    .swiper1 {
        width: 90%;
    }


    .mspan {
        font-size: 22px;
    }

    .triangle {
        display: none;
    }

    .father-slide {
        color: #fff;
    }

    .father-slide .slide-flex {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }

    .slide-item {
        flex: 1;
        margin: 0 10px;
    }

    .slide-item img {
        width: 100%;
    }

    .slide-item .op {
        font-size: 20px;
        font-weight: 600;
        color: #bc3d1d;
    }

    .slide-item .tp {
        color: #A7A7A7;
        font-size: 16px;
        margin: 10px 0;
    }

    .slide-item p {
        margin: 0;
        padding: 0;
    }

    .slide-item h2 {
        font-size: 32px;
        margin: 10px 0;
    }

    .slide-item .saleInfo {
        background-color: rgba(255, 255, 255, .1);
        padding: 7px 10px;
    }

    .slide-item .saleInfo p {
        font-size: 20px;
    }

    .slide-item .saleInfo p:nth-child(1) {
        color: #bc3d1d;
    }

    .ys-btn {
        margin: 15px 0;
    }

    .ys-btn a {
        text-decoration: none;
        background-color: #fff;
        padding: 10px;
        font-size: 16px;
        color: #000;
        border-radius: 5px;
        display: inline-block;
        min-width: 230px;
        text-align: center;
    }

    .ys-form {
        text-align: center;
        background: linear-gradient(-42deg, #AA8924 0%, #EACF75 21%, #C59D4B 36%, #B28436 56.00000000000001%, #EDD378 73%, #BC9047 100%);
        border-radius: 5px;
        display: inline-block;
        min-width: 230px;
        color: #000;
    }

    .ys-form button {
        padding: 10px;
        font-size: 16px;
        width: 100%;
    }


    .sa1dsad1 p {
        font-size: 16px;
    }

    .colr3d {
        color: #bc3d1d;
        font-size: 20px;
        margin-bottom: 15px;
    }

    .slide-flex {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    @media screen and (max-width: 768px) {

        .swiper1 {
            width: 95%;
        }

        .flex {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 10px;
            margin: 10px 0;
            background: #F1F2F6;
            padding: 10px;
            border-radius: 5px;
        }

        .product-box {
            flex-wrap: wrap;
            margin: 0 15px;
        }

        .product-box-item {
            width: 100%;
        }

        .reviews {
            display: block;
            padding: 5%;
            color: #000;
            border: 1px solid #000;
            margin: 0 15px;
            background-color: #fff;
            min-height: 450px;
        }

        .reviews img {
            display: none;
        }

        #blind .product-title {
            font-size: 24px;
        }

        #blind {
            margin: 0 10px;
            padding: 10px;
        }

        #s-b288b4c0-5e88-4e6b-a091-c9a0f5949811 {
            background-image: url('https://cdn.shopify.com/s/files/1/0103/1923/3081/files/2_ae738b16-bcda-401d-815f-20eb94fcfbdd.jpg?v=1699326837') !important;
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }



        .blind_box_banner_slidesa .sb {
            width: 100%;
        }



        .father-slide .slide-flex {
            flex-wrap: wrap;
        }

        .slide-item {
            flex: auto;
            margin: 0 10px;
        }


        .ys-btn a {
            width: 100%;
            margin-bottom: 7px;
        }

        .slide-item h2 {
            font-size: 26px;
        }
    }



    @media screen and (max-width: 768px) {

        #product0 .product-title {
            font-size: 24px;
        }
    }

    #s-44b3655e-1dd6-4520-b9e3-590bde7d7d25 .shg-row .shg-c-lg-6:nth-child(1) {
        box-shadow: 10px 0px 15px 0px rgba(0, 0, 0, 0.2);
        z-index: 10;
        position: relative;
    }

    .mySwiper-re .swiper-pagination-bullet-active {
        background-color: #000;
    }

    #s-69d4cd6b-a041-4099-9656-ddba8d28d9d1 h2,
    #slider-s-216d9e79-6b1b-4583-806a-0adce231adee h2 {
        text-align: left;
    }

    #s-69d4cd6b-a041-4099-9656-ddba8d28d9d1 h2 a,
    #slider-s-216d9e79-6b1b-4583-806a-0adce231adee h2 a {
        color: #fff;
    }



    input:active,
    input:focus,
    select:active,
    select:focus,
    textarea:active,
    textarea:focus {
        border: 1px solid;
        border-color: #000 !important;
    }



    #s-0d59917c-0c52-4f34-b09c-3ec6952b6b6f,
    #s-e4d80b95-3c9b-48fd-bcaa-f899659ed45e {
        position: relative;
    }

    input:active,
    input:focus,
    select:active,
    select:focus,
    textarea:active,
    textarea:focus {
        border: 1px solid;
        border-color: #000 !important;
    }

    .blind_box_banner_slidesa .sb {
        max-width: 400px;
        border: 1px solid #000;
        border-radius: 5px;
    }

    .blind_box_banner_slidesa .adc-form {
        max-width: 400px;
    }

    /* countdown */
    #countdown {
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 14px;
        color: #fff;
        background-image: url('https://cdn.shopify.com/s/files/1/0103/1923/3081/files/dafdcd033a4d8dd6670c35d671373ae2_99747b2b-9fc1-4282-a534-95c0ad64213d.png?v=1700645483');
        background-size: 100% 100%;
        background-repeat: no-repeat;
        background-position: center;
        max-width: 550px;
        margin: 0 auto;
        padding: 20px 50px 40px 50px;
    }

    .countdown-container {
        margin: 0 5px;
        text-align: center;
        display: flex;
    }

    .pofae {
        position: relative;
    }

    .digit-container {
        display: flex;
        flex-direction: column;
        font-size: 50px;
        color: #fff;
        font-weight: 600;
        background-color: #000;
        width: 50px;
        height: 62px;
    }

    .digit-container:nth-child(2n) {
        margin-left: 3px;
    }

    #countdown span {
        display: block;
        font-size: 50px;
    }

    .countdown-text {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 10px;
    }

    .countdown-text div {
        font-size: 14px;
        color: #fff;
        margin: 2px;
    }

    .countdownTe {
        margin: 0 auto;
    }

    .dow-pos {
        display: block;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        margin-top: 5px;
        color: #000;
    }

    #s-d9594441-1d3a-48e6-90e5-4ab542619e8b {
        background-size: 100% 100% !important;
    }

    .toogl,
    .tooglp {
        color: rgb(167, 167, 167);
    }

    .toogl {
        max-width: 85%;
        margin: 0px auto;
    }

    .ycdi {
        display: none;
    }

    .tobtns {
        max-width: 200px;
        display: block;
        margin: 20px auto;
        padding: 7px;
        color: #000;
        font-weight: 600;
    }

    .swipersb2 .swiper-pagination-bullet {
        background-color: #fff !important;
    }

    .swipersb2 {
        padding-bottom: 30px;
    }

    @media screen and (max-width: 768px) {
        .slide-flex .product-box-item{
            width: calc(50% - 5px);
            margin-bottom: 30px;
        }
       .slide-flex  .product_sku .product_sku_item {
            width: 100%;
            margin-bottom: 5px;
        }

        .slide-flex .product-title {
            font-size: 16px;
        }

        .slide-flex .product-price-new{
            font-size: 18px;
        }

        .slide-flex .product-price-old{
            font-size: 15px;
        }
        .triangle {
            display: none !important;
        }

        .swipers2 {
            width: 100%;
            padding-bottom: 10px;
        }

        .toogl {
            max-width: 100%;
            margin: 0 auto;
        }

        .digit-container {
            display: flex;
            flex-direction: column;
            font-size: 30px;
            color: #fff;
            font-weight: 600;
            background-color: #000;
            width: 35px;
            height: 39px;
        }

        #s-d9594441-1d3a-48e6-90e5-4ab542619e8b {
            background-size: contain !important;
            background-image: none !important;
        }

        #countdown span {
            display: block;
            font-size: 30px;
        }

        .mspan {
            font-size: 15px;
        }

        #s-1a7d98f4-f777-47a6-b596-e0d8bf6e3a6d .shogun-heading-component {
            margin-top: 70px;
        }
    }

    #productms-8 div{
        display: none;
    }
</style>


{% assign variants1 = all_products['zpg-1000e-pellet-grill'].variants %}
{% assign variants2 = all_products['multitasker-11002b-wi-fi-pellet-grill'].variants %}
{% assign variants3 = all_products['zpg-10502b-pellet-grill'].variants %}
{% assign variants4 = all_products['zpg-450b-pellet-grill'].variants %}
{% assign variants5 = all_products['zpg-7002f2-pellet-grill'].variants %}
{% assign variants6 = all_products['zpg-700d3-pellet-grill'].variants %}
{% assign variants7 = all_products['zpg-l600e-pellet-grill'].variants %}
{% assign variants8 = all_products['blind-box-gen-2'].variants %}
<script>

    $(function () {
        function compareFn(number, name) {

            number === null ?
                name.css('display', 'none') :
                name.text(price_fun('$' + number));

        };



        const product_info_productms1 = {{ all_products['zpg-1000e-pellet-grill'] | json
    }};
    {% for variant in variants1 %}
    product_info_productms1.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms1 = product_info_productms1.images

    const product_info_productms2 = {{ all_products['multitasker-11002b-wi-fi-pellet-grill'] | json}};
    {% for variant in variants2 %}
    product_info_productms2.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms2 = product_info_productms2.images

    const product_info_productms3 = {{ all_products['zpg-10502b-pellet-grill'] | json}};
    {% for variant in variants3 %}
    product_info_productms3.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms3 = product_info_productms3.images

    const product_info_productms4 = {{ all_products['zpg-450b-pellet-grill'] | json}};
    {% for variant in variants4 %}
    product_info_productms4.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms4 = product_info_productms4.images

    const product_info_productms5 = {{ all_products['zpg-7002f2-pellet-grill'] | json}};
    {% for variant in variants5 %}
    product_info_productms5.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms5 = product_info_productms5.images

    const product_info_productms6 = {{ all_products['zpg-700d3-pellet-grill'] | json}};
    {% for variant in variants6 %}
    product_info_productms6.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms6 = product_info_productms6.images

    const product_info_productms7 = {{ all_products['zpg-l600e-pellet-grill'] | json}};
    {% for variant in variants7 %}
    product_info_productms7.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms7 = product_info_productms7.images

    const product_info_productms8 = {{ all_products['blind-box-gen-2'] | json}};
    {% for variant in variants8 %}
    product_info_productms8.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms8 = product_info_productms8.images




    var product_info_yqdse = {{ all_products['blind-box-gen-3'] | json}};
    var imgs_yqdse = product_info_yqdse.images

    var product_info_product_slide = {{ all_products['thermal-blanket'] | json }};
    var imgs_product_slide = product_info_product_slide.images

    var product_info_product_slide2 = {{ all_products['winter-package'] | json }};
    var imgs_product_slide2 = product_info_product_slide2.images

    function productImg(Dom, Class) {
        Dom.forEach((a, e) => {
            var haner = ''
            haner = "<div class='swiper-slide'><img class='img lazyload' src='' data-src='" + a + "'></div>"
            Class.append(haner)
        });
    }
    productImg(imgs_yqdse, $('#blind .swiper-wrapper'))

    // 秒杀产品
    productImg(imgs_productms1, $('#productms-1 .swiper-wrapper'))
    productImg(imgs_productms2, $('#productms-2 .swiper-wrapper'))
    productImg(imgs_productms3, $('#productms-3 .swiper-wrapper'))
    productImg(imgs_productms4, $('#productms-4 .swiper-wrapper'))
    productImg(imgs_productms5, $('#productms-5 .swiper-wrapper'))
    productImg(imgs_productms6, $('#productms-6 .swiper-wrapper'))
    productImg(imgs_productms7, $('#productms-7 .swiper-wrapper'))
    productImg(imgs_productms8, $('#productms-8 .swiper-wrapper'))


    // 优化版本
    function updateProductDetails(productSelector, product, images, isCheckOut) {
        const $product = $(productSelector);
        const $productName = $product.find('h2 a');
        const $reviewsBadge = $product.find('.stamped-product-reviews-badge');
        const $productPriceNew = $product.find('.product-price-new');
        const $productPriceOld = $product.find('.product-price-old');
        const $productOption = $product.find('option');
        const $skuContainer = $product.find('.product_sku');
        const $inventoryQuantity = $product.find('.inventory_quantity');
        const $buyButton = $product.find('.adc-form button');

        $productName.text(product.title);
        $productName.attr('href', `/products/${product.handle}`);
        $reviewsBadge.attr('data-id', product.id);

        // 获取库存信息
        var inventoryInfo = product.variants[0].inventory_quantity;

        isCheckOut = isCheckOut !== undefined ? isCheckOut : true;
        if (inventoryInfo <= 0 && $buyButton.length > 0) {
            $buyButton.prop('disabled', true);
            $buyButton.parents('.btns').css('background', '#444');
            if (isCheckOut) {
                $buyButton.find('span').text('Sold Out');
            } else {
                $buyButton.find('span').text('Coming Soon');
            }
        } else if ($buyButton.length > 0) {
            $buyButton.prop('disabled', false);
            $buyButton.find('span').text('Rush to Buy');
        }

        // 将库存信息添加到容器中
        if ($inventoryQuantity.length > 0) {
            $inventoryQuantity.append(inventoryInfo);
        }

        // Clear existing SKUs
        $skuContainer.empty();

        // 获取外部容器
        // Loop through each variant
        product.variants.forEach((variant, index) => {
            // 创建新的 jQuery 对象，确保每次循环都是独立的
            const $currentProductPriceNew = $product.find('.product-price-new');
            const $currentProductPriceOld = $product.find('.product-price-old');

            const $skuElement = $('<div>')
                .addClass('product_sku_item')
                .append($('<div>').text(variant.title));

            $skuContainer.append($skuElement);



            // 如果当前变体是第一个变体，更新价格
            if (index === 0) {

                compareFn(variant.price, $currentProductPriceNew);


                compareFn(variant.compare_at_price, $currentProductPriceOld);
            }

            $productOption.attr('value', variant.id);
        });






    }
    // 秒杀产品
    updateProductDetails('#productms-1', product_info_productms1, imgs_productms1, true);
    updateProductDetails('#productms-2', product_info_productms2, imgs_productms2, true);
    updateProductDetails('#productms-3', product_info_productms3, imgs_productms3, true);
    updateProductDetails('#productms-4', product_info_productms4, imgs_productms4, true);
    updateProductDetails('#productms-5', product_info_productms5, imgs_productms5, true);
    updateProductDetails('#productms-6', product_info_productms6, imgs_productms6, true);
    updateProductDetails('#productms-7', product_info_productms7, imgs_productms7, true);
    updateProductDetails('#productms-8', product_info_productms8, imgs_productms8, true);

    updateProductDetails('#blind', product_info_yqdse, imgs_yqdse, false)



    // 优化版本
    function fun_blindss(className, variants, swiperCount, isCheckOut) {
        // 委托点击事件给包含所有 SKU 的容器
        $(className + ' .product_sku').on('click', '.product_sku_item', function () {
            let clickedSkuElement = $(this);
            clickedSkuElement.css({
                'background-color': '#fff',
                'color': "#000"
            });
            clickedSkuElement.siblings().css({
                'background-color': 'transparent',
                'color': '#fff',
                'border': '1px solid #fff'
            });

            var index = clickedSkuElement.index(); // 获取点击的 SKU 的索引
            var selectedVariant = variants[index];

            // 更新价格和其他相关元素
            compareFn(selectedVariant.price, $(className + ' .product-price-new'));
            compareFn(selectedVariant.compare_at_price, $(className + ' .product-price-old'));
            $(className + ' option').attr('value', selectedVariant.id);
            $(className + ' .affirm-as-low-as').attr('data-amount', selectedVariant.price);

            // 显示不同的库存信息
            showInventory(selectedVariant.inventory_quantity, $(className + ' .inventory_quantity'));

            // 判断库存是否小于等于 0
            if (selectedVariant.inventory_quantity <= 0) {
                disableBuyButton($(className + ' .adc-form button'), isCheckOut);
            } else {
                enableBuyButton($(className + ' .adc-form button'));
            }

            if (swiperCount !== undefined) {
                swiper[swiperCount].slideTo(index, 500);
            }
        });

        // 显示库存信息的函数
        function showInventory(inventoryQuantity, inventoryElement) {
            inventoryElement.text(` ${inventoryQuantity} `);
        }

        // 禁用购买按钮的函数
        function disableBuyButton($buyButton, isCheckOut) {
            $buyButton.prop('disabled', true);
            if (isCheckOut) {
                $buyButton.find('span').text('Sold Out');
                $buyButton.parents('.btns').css('background', '#444');
            } else {
                $buyButton.find('span').text('Rush to Buy'); // 将文本设置为'Rush to Buy'
                // $buyButton.parents('.btns').css('background', '#444');
            }
        }

        // 启用购买按钮的函数
        function enableBuyButton($buyButton) {
            $buyButton.prop('disabled', false);
            $buyButton.find('span').text('Rush to Buy');
            $buyButton.parents('.btns').css('background', '#bc3d1d');
        }
    }



    // 传参数
    fun_blindss('#productms-1', product_info_productms1.variants, 2, true)
    fun_blindss('#productms-2', product_info_productms2.variants, 3, true)
    fun_blindss('#productms-3', product_info_productms3.variants, 4, true)
    fun_blindss('#productms-4', product_info_productms4.variants, 5, true)
    fun_blindss('#productms-5', product_info_productms5.variants, 6, true)
    fun_blindss('#productms-6', product_info_productms6.variants, 7, true)
    fun_blindss('#productms-7', product_info_productms7.variants, 8, true)
    fun_blindss('#productms-8', product_info_productms8.variants, 9, true)

    // blind box
    function fun_blind(className, variant, swiperCount) {
        $(className + ' .product_sku_item').click(function () {
            let dom = $(this)
            dom.css({
                'background-color': '#000',
                'color': "#fff"
            })
            dom.siblings().css({
                'background-color': "transparent",
                'color': "#000",
                'border': '1px solid #000'
            })
            var indexs = $(this).index()

            switch (indexs) {
                case 0:
                    compareFn(variant[0].price, $(className + ' .product-price-new'))
                    compareFn(variant[0].compare_at_price, $(className + ' .product-price-old'))
                    $(className + ' option').attr('value', variant[0].id)
                    $(className + ' .affirm-as-low-as').attr('data-amount', variant[0].price)
                    if (swiperCount !== undefined) {
                        swiper[swiperCount].slideTo(0, 500);
                    }
                    break;
                case 1:
                    compareFn(variant[1].price, $(className + ' .product-price-new'))
                    compareFn(variant[1].compare_at_price, $(className + ' .product-price-old'))
                    $(className + ' option').attr('value', variant[1].id)
                    $(className + ' .affirm-as-low-as').attr('data-amount', variant[1].price)
                    if (swiperCount !== undefined) {
                        swiper[swiperCount].slideTo(1, 500);
                    }
                    break;
                case 2:
                    compareFn(variant[2].price, $(className + ' .product-price-new'))
                    compareFn(variant[2].compare_at_price, $(className + ' .product-price-old'))
                    $(className + ' option').attr('value', variant[2].id)
                    $(className + ' .affirm-as-low-as').attr('data-amount', variant[2].price)
                    if (swiperCount !== undefined) {
                        swiper[swiperCount].slideTo(2, 500);
                    }
                    break;
                default:
            }

        })
    }
    fun_blind('#blind', product_info_yqdse.variants, 1)


    swiper = [];
    var swiper1 = null
    var arr = [{
        name: '#certify .swiper-container',
        param: {
            watchSlidesProgress: true,
            slidesPerView: 1.9,
            centeredSlides: true,
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next-review',
                prevEl: '.swiper-button-prev-review',
            },
            on: {
                progress: function (progress) {
                    for (i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i);
                        var slideProgress = this.slides[i].progress;
                        modify = 1;
                        if (Math.abs(slideProgress) > 1) {
                            modify = (Math.abs(slideProgress) - 1) * 0.3 + 1;
                        }
                        translate = slideProgress * modify * 260 + 'px';
                        scale = 1 - Math.abs(slideProgress) / 9;
                        zIndex = 999 - Math.abs(Math.round(10 * slideProgress));
                        slide.transform('translateX(' + translate + ') scale(' + scale + ')');
                        slide.css('zIndex', zIndex);
                        slide.css('opacity', 1);
                        if (Math.abs(slideProgress) > 3) {
                            slide.css('opacity', 0);
                        }
                    }
                },
                setTransition: function (transition) {
                    for (var i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i)
                        slide.transition(transition);
                    }

                }
            }
        },
    }, {
        name: '#blind .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product-blind",
                prevEl: ".thumbs1-button-prevs-product-blind",
            },
        },
    },
    {
        name: '#productms-1 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-1",
                prevEl: ".thumbs1-button-prevs-productms-1",
            },
        },
    }, {
        name: '#productms-2 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-2",
                prevEl: ".thumbs1-button-prevs-productms-2",
            },
        },
    }, {
        name: '#productms-3 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-3",
                prevEl: ".thumbs1-button-prevs-productms-3",
            },
        },
    }, {
        name: '#productms-4 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-4",
                prevEl: ".thumbs1-button-prevs-productms-4",
            },
        },
    }, {
        name: '#productms-5 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-5",
                prevEl: ".thumbs1-button-prevs-productms-5",
            },
        },
    }, {
        name: '#productms-6 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-6",
                prevEl: ".thumbs1-button-prevs-productms-6",
            },
        },
    }, {
        name: '#productms-7 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-7",
                prevEl: ".thumbs1-button-prevs-productms-7",
            },
        },
    }, {
        name: '#productms-8 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-8",
                prevEl: ".thumbs1-button-prevs-productms-8",
            },
        },
    },{
        name: '.blind_box_banner_slidesa .swiper',
        param: {
            navigation: {
                nextEl: ".blind_box_banner_slidesa .swiper-button-next",
                prevEl: ".blind_box_banner_slidesa .swiper-button-prev",
            },
        },
    },]
    arr.forEach((a, e) => {
        // 在每次循环前销毁现有 swiper1 实例
        if (e === 2 && swiper1) {
            swiper1.destroy();
        }

        // 创建新的 Swiper 实例并存储在数组中
        swiper[e] = new Swiper(a.name, a.param);

        // 如果是 swiper1，则将其赋值给独立的变量 swiper1
        if (e === 2) {
            swiper1 = swiper[e];
        }
    });
    function price_funs(price) {
        if (!price) return null;

        // 使用 slice 方法移除末尾两位数字
        var formattedPrice = price.toString().slice(0, -2);

        return formattedPrice;
    }

    function compareFns(number, name) {
        if (number === null) {
            name.css('display', 'none');
        } else {
            var formattedNumber = price_funs(number);
            var htmlContent = '<span class="daole">$</span><span class="sa1s">' + formattedNumber + '</span>';
            name.html(htmlContent);
        }
    }


    function updateProductDetails_slide(productSelector, product, images) {
        const $product = $(productSelector);
        const $productName = $product.find('h2 a');
        const $reviewsBadge = $product.find('.stamped-product-reviews-badge');
        const $productOption = $product.find('.product_sku');
        const $productPriceNew = $product.find('.product-price-new');
        const $productPriceOld = $product.find('.product-price-old');
        const $productImage = $product.find('.p112sdimg img');
        $(document).ready(function () {
            // 获取第一个变体的ID（假设变体数组中的第一个元素是默认选项）
            const firstVariantId = product.variants[0].id;

            // 设置第一个变体的ID给所有的 select 元素
            $('.adc-form select option').val(firstVariantId);

            // 手动触发一次 change 事件，以确保价格和其他元素在初始加载时也被更新
            $('.adc-form select option').trigger('change');
        });
        // 更新产品名称和链接
        $productName.text(product.title);
        $productName.attr('href', `/products/${product.handle}`);
        $productImage.attr('src', product.images[0])
        // 更新评论徽章的数据ID
        $reviewsBadge.attr('data-id', product.id);

        // 清空下拉框选项
        $productOption.empty();

        // 遍历所有变体并生成下拉框选项
        product.variants.forEach(variant => {
            const $option = $('<option></option>');
            $option.val(variant.id);
            $option.text(variant.title);
            $productOption.append($option);
        });

        // 添加事件监听器来捕捉下拉框选项的变化
        $productOption.on('change', function () {
            const selectedVariantId = $(this).val();

            // 使用 find 方法查找匹配的变体
            const selectedVariant = product.variants.find(variant => variant.id === parseInt(selectedVariantId));

            if (selectedVariant) {
                // 获取选定的变体的价格和比较价格
                const newPrice = selectedVariant.price;
                const oldPrice = selectedVariant.compare_at_price;

                // 使用 price_funs 函数处理价格
                const formattedNewPrice = price_fun(newPrice);
                const formattedOldPrice = price_fun(oldPrice);

                // 更新价格文本到元素
                $('.product-price-new .sa1s').text(formattedNewPrice);
                $('.product-price-old .sa1s').text(formattedOldPrice);

                // 将选定的值设置给其他 select 元素的对应 option
                $('.adc-form select option').val(selectedVariantId);
                $('#product-singleform select option').val(selectedVariantId)

                // 更新图片
                if (selectedVariant.featured_image && selectedVariant.featured_image.src) {
                    const imageSrc = selectedVariant.featured_image.src;
                    $productImage.attr('src', imageSrc); // 设置图像 URL
                } else {
                    console.log('Condition is false');
                }
            } else {
                console.log("No matching variant found.");
            }
        });


        // 初始化价格信息为第一个变体的价格
        if (product.variants[0].price !== null) {
            const formattedPrice = price_fun(product.variants[0].price);
            const priceText = `<span class="daole">$</span><span class="sa1s">${formattedPrice}</span>`;
            $productPriceNew.html(priceText);
        } else {
            $productPriceNew.text('');
        }

        // 初始化比较价格信息为第一个变体的比较价格
        if (product.variants[0].compare_at_price !== null) {
            const formattedComparePrice = price_fun(product.variants[0].compare_at_price);
            const comparePriceText = `<span class="daole">$</span><span class="sa1s">${formattedComparePrice}</span>`;
            $productPriceOld.html(comparePriceText);
        } else {
            $productPriceOld.text('');
        }


    }




    updateProductDetails_slide('#product-kz', product_info_product_slide, imgs_product_slide)
    updateProductDetails_slide('#product-kz2', product_info_product_slide2, imgs_product_slide2)
})

    $(document).ready(function () {
        // 初始化时执行一次
        checkAndExecuteFunction();

        // 监听窗口尺寸变化事件
        $(window).on('resize', function () {
            checkAndExecuteFunction();
        });


        $('.imgItem').click(function () {
            // 移除所有元素的激活状态
            $('.imgItem').removeClass('active');
            // 添加激活状态到当前点击的元素
            $(this).addClass('active');
            // 切换图片链接
            var swiperIndex = $(this).data('index');
            // 调用相应的 swiper[0].slideTo() 方法
            swiper[10].slideTo(swiperIndex, 500);
        });
    });

    function checkAndExecuteFunction() {
        if (window.matchMedia('(min-width: 768px)').matches) {
            // 在视口宽度大于等于 768px 时，执行函数
            equalizeGridTextHeight('.slide-flex .product-info .product-title');
            equalizeGridTextHeight('.slide-flex .product_sku ')
        }
        if (window.matchMedia('(max-width: 768px)').matches) {
            // 在视口宽度大于等于 768px 时，执行函数
            equalizeGridTextHeight('.slide-flex .product-info .product-title');
        }
    }

    class CountdownTimer {
        constructor(targetDate, targetTimeZoneOffset) {
            this.targetDate = new Date(targetDate);
            this.targetTimeZoneOffset = targetTimeZoneOffset;
            this.updateCountdown();
        }

        updateCountdown() {
            const currentTime = new Date();
            const timezoneDifference = (this.targetTimeZoneOffset - currentTime.getTimezoneOffset()) * 60 * 1000;
            const targetTime = new Date(this.targetDate.getTime() + timezoneDifference);
            const timeDifference = targetTime - currentTime;

            const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

            this.updateDigits('days', days);
            this.updateDigits('hours', hours);
            this.updateDigits('minutes', minutes);
            this.updateDigits('seconds', seconds);

            setTimeout(() => this.updateCountdown(), 1000);
        }

        updateDigits(type, value) {
            const tens = Math.floor(value / 10);
            const ones = value % 10;
            document.getElementById(`${type}-tens`).innerText = tens.toString();
            document.getElementById(`${type}-ones`).innerText = ones.toString();
        }
    }
    // 创建CountdownTimer实例，传入目标日期和目标时区偏移
    const countdown = new CountdownTimer('2023-11-27T16:00:00', -480);


    $('#blind .stamped-fa-star').css('color', '#fff !important')
  
</script>