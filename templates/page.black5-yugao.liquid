{{ 'jq.js' | asset_url | script_tag }}
{{ 'swiper.css' | asset_url | stylesheet_tag }}
{{ 'swiper.js' | asset_url | script_tag }}
{% comment %}
Auto-generated by Shogun.
This file can be re-written at any time.
{% endcomment %}
<style>
    .title-weight h2,
    .title-weight h1,
    .title-weight h3,
    .title-weight span,
    .title-weight a,
    .title-weight {
        font-family: Impact !important;
        font-weight: 400;
    }

    .page_widths {
        margin: 0 auto !important;
        max-width: 1420px;
    }

    .lazyloaded {
        width: 100%;
        display: block;
    }

    .product-box {
        display: flex;
        display: -webkit-flex;
        overflow: hidden;
        align-items: center;
        justify-content: space-between;
        margin: 0 -10px;
        flex-wrap: wrap;
    }

    .product-boxs {
        margin: 0 -20px;
    }

    .flexBox {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        align-items: center;
        flex-wrap: wrap;
        margin: 0 -20px;
    }

    .flexBox:nth-child(2) {
        border: 2px solid;
        color: #000;
    }

    .swiper {
        width: 100%;
    }

    .product_sku_item div {
        text-align: center;
        padding: 9px 2px;
        cursor: pointer;
    }

    .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #fff;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
        margin-bottom: 10px;
        max-height: 37px;
    }

    .swipersb2 .product_sku .product_sku_item,
    .product-boxs .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #fff;
        color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
        margin-bottom: 10px;
        background: #fff;
        max-height: 37px;
    }


    .product_sku {
        display: flex;
        display: -webkit-flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 8px 0;
    }

    #blind .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #000;
        color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
    }

    #blind .product_sku .product_sku_item:nth-child(1) {
        background: #000;
        color: #fff;
        width: 100%;
        margin-bottom: 7px;
    }

    .swipersb2 .product_sku .product_sku_item:nth-child(1),
    .product-boxs .product_sku .product_sku_item:nth-child(1) {
        background: #F79B02;
        color: #000;
        width: 100%;
        margin-bottom: 7px;
        font-weight: 600;
    }

    .product-title {
        font-size: 26px;
        margin-top: 7px;
    }

    .swipersb3 .title-weights a {
        font-size: 40px;
        color: #F79B02;
    }

    .product-price-new {
        display: inline-block;
        color: #bc3d1d;
        font-size: 30px;
        font-weight: 700;
    }

    .swipersb2 .product-price-new,
    .product-boxs .product-price-new {
        display: inline-block;
        color: #F79B02;
        font-size: 30px;
        font-weight: 700;
    }

    .box-quantity {
        display: flex;
        align-items: center;
        font-size: 16px;
    }

    .inventory_quantity {
        color: #F79B02;
        font-weight: 600;
        font-size: 20px;
    }


    .swipersb3 .product-price-new {
        display: inline-block;
        color: #F79B02;
        font-size: 55px;
        font-weight: 700;
    }

    .swipersb3 .product-price-new .daole {
        font-size: 22px;
    }

    .swipersb3 .product-price-new .last-two {
        font-size: 30px;
    }

    .product-price-old {
        display: inline-block;
        color: #000;
        font-size: 20px;
        text-decoration: line-through #bc3d1d;
        -webkit-text-decoration: line-through #bc3d1d;
        font-weight: 600;
    }

    .swipersb3 .product-price-old {
        margin-top: 20px;
        margin-left: 5px;
        font-size: 33px;
    }

    .swipersb2 .product-price-old,
    .product-boxs .product-price-old {
        text-decoration: line-through #000;
        -webkit-text-decoration: line-through #000;
    }

    .swipersb3 .product-price-old {
        text-decoration: none;
    }

    .btns {
        background: #bc3d1d;
        border-radius: 5px;
        width: 100%;
        text-align: center;
    }

    .productContent .product---price .shg-c,
    .productContent .product-price-new,
    .productContent .product-price-old {
        display: flex;
    }

    .productContent .daole {
        font-size: 18px;
        color: #F79B02;
        text-decoration: none;
    }

    .swipersb3 .product-price-old .daole {
        color: #fff;
    }

    .swipersb3 .product-price-old .sa1s {
        text-decoration: line-through #000;
        -webkit-text-decoration: line-through #000;
    }

    .swipersb2 .btns,
    .swipersb3 .btns,
    .product-boxs .btns {
        background: #F79B02;
        border-radius: 5px;
        width: 100%;
        text-align: center;
    }

    .btns span {
        font-weight: 700;
        font-size: 18px;
        color: #fff;
    }

    .swipersb2 .btns span {
        font-weight: 700;
        font-size: 18px;
        color: #000;
    }

    .btns button {
        width: 100%;
        height: 100%;
        padding: 8px 0;
    }

    .infos ul {
        margin: 10px 0;
    }

    .infos li {
        list-style: none;
    }

    .infos li::before {
        content: '';
        display: inline-block;
        margin-right: 3px;
        background-color: #bd3d1d;
        width: 5px;
        height: 5px;
        border-radius: 50%;
    }

    .textborder h2 {
        text-shadow: 0px 0px 10px #fff;
        -webkit-text-stroke: 1px #fff;
    }

    .wihites .product-title a,
    .wihites .stamped-badge-caption,
    .wihites .product-price-old,
    .wihites .affirm-as-low-as,
    .wihites .__affirm-logo,
    .wihites .affirm-modal-trigger,
    .wihites ul,
    .wihites p,
    .wihites {
        color: #fff;
    }

    .productContent select {
        background: #fff;
        color: #000;
        background-image: url(//www.zgrills.com/cdn/shop/t/67/assets/ico-select.svg);
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 11px;
    }

    .reviews img {
        width: 100%;
    }

    .reviews {
        display: flex;
        justify-content: space-between;
        padding: 3%;
        min-height: 350px;
        align-items: center;
    }


    .name {
        font-weight: 600;
    }

    .testimonial-stars {
        color: #fea801;
    }

    .reviews h2 {
        font-weight: 700;
    }

    #certify {
        position: relative;
        margin: 0 auto;
        overflow: hidden;
    }

    #certify .swiper-container {
        padding: 20px 0;
    }

    #certify .swiper-slide {
        background: #fff;
        box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.16);
    }

    #certify .swiper-slide img {
        display: block;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet {
        margin: 0 5px;
        border: 3px solid #fff;
        background-color: #d5d5d5;
        width: 10px;
        height: 10px;
        opacity: 1;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet-active {
        border: 3px solid #B70101;
        background-color: #fff;
    }

    #certify .swiper-button-prev,
    #certify .swiper-button-next {
        color: #000;
    }

    .sdms{
        margin: 10px 0 0 0;
        font-size: 16px;
    }


    @media screen and (min-width: 768px) {
        .reviews div:nth-child(1) {
            width: 70%;
        }

        .reviews div:nth-child(2) {
            width: 27%;
        }

        .product-box .product-box-item {
            flex: 1;
            margin: 0 10px;
            box-sizing: border-box;
            max-width: calc(33% - 10px);
        }

        .product-boxs .product-box-item {
            flex: 1;
            margin: 0 10px 30px 10px;
            box-sizing: border-box;
            max-width: calc(50% - 20px);
        }

        #s-14c03b13-4119-4722-ae21-2f32b2eb8c21 {
            background-size: 100% !important;
            background-position: bottom !important;
        }

        .thumbs1-button-nexts-productsb2,
        .thumbs1-button-nexts-productsb3 {
            right: -50px;
            background: #F79B02;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: #fff;
        }

        .thumbs1-button-prevs-productsb2,
        .thumbs1-button-prevs-productsb3 {
            left: -50px;
            background: #F79B02;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: #fff;
        }

        .productContent {
            flex: 1;
            margin: 0 20px;
        }

        .productContent:nth-child(2n) {
            border: 2px solid #000;
            border-radius: 20px;
            padding: 10px 50px 20px 50px;
            height: 100%;
            display: flex;
            justify-content: center;
            flex-direction: column;
        }

        .p112sdimg img {
            background-color: rgba(0, 0, 0, .2);
            padding: 10px 50px 20px 50px;
            border-radius: 20px;
        }

        #s-280a0da4-bd40-4b05-a7a0-c26190c688bb {
            position: relative;
        }

        .swiper-pagination {
            display: none;
        }

        #s-b32b446e-254d-4152-89b9-e0cada582ed6 .shg-c-lg-4 {
            border-right: 1px solid #fff;
        }

        #s-b32b446e-254d-4152-89b9-e0cada582ed6 .shg-c-lg-4:last-child {
            border: 0;
        }
    }

    .scroll-to {
        border: 1px solid #fff;
        padding: 7px 10px;
        border-radius: 5px;
        font-size: 26px;
    }

    .selecteds {
        font-weight: bold;
        background-color: #F79B02;
        padding: 7px 10px;
        border-radius: 5px;
    }

    .section-mao {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
    }

    .section-mao span{
        font-size: 22px;
        display: block;
    }

    .section-mao a {
        text-decoration: none;
        margin: 0 10px;
        color: #fff;
        text-align: center;
        flex: 1;
    }


    @media screen and (max-width: 768px) {
        .scroll-to {
            font-size: 18px;
        }

        .scroll-to span{
            font-size: 15px;
        }

        .section-mao a {
            margin-bottom: 10px;
            width: 100%;
            text-align: center;
            flex: auto;
        }

        .reviews {
            display: block;
            padding: 5%;
            color: #000;
            border: 1px solid #000;
            margin: 0 15px;
            background-color: #fff;
            min-height: 450px;
        }

        .reviews img {
            display: none;
        }

        .product-box-item:nth-child(2n) {
            margin: 20px 0;
        }

        .product-box {
            flex-wrap: wrap;
        }

        .product-box-item {
            width: 100%;
        }

        .product-boxs {
            padding: 0 15px;
        }

        .product-title {
            font-size: 24px;
        }

        #s-4c21a7b8-cf85-4b1b-8594-ed1fed36df1c {
            background-image: url('https://cdn.shopify.com/s/files/1/0103/1923/3081/files/90e0dd8c0721d28da2b8d135f7abbb46.png?v=1701420383') !important;
        }

        .swipersb2,
        .swipersb3 {
            padding-bottom: 30px;
        }

        .swipersb3 .swiper-button-next,
        .thumbs1-button-prevs-productsb2,
        .swipersb3 .swiper-button-prev,
        .thumbs1-button-nexts-productsb2 {
            display: none;
        }

        .flexBox {
            grid-template-columns: 1fr;
            margin: 0 10px;
        }

        .swipersb3 .title-weights a {
            font-size: 30px;
        }

        .swipersb3 .product-price-new {
            font-size: 35px;
        }

        .swipersb3 .product-price-old {
            margin-top: 13px;
            margin-left: 5px;
            font-size: 25px;
        }

        .productContent select {
            width: 100%;
        }

        .p112sdimg img {
            background-color: rgba(0, 0, 0, .2);
            padding: 10px 10px 20px 10px;
            border-radius: 10px;
        }

        .productContent:nth-child(2n) {
            border: 2px solid #000;
            border-radius: 10px;
            padding: 10px 10px 20px 10px;
            margin-top: 10px;
        }

        .swiper-pagination-bullet,
        .swiper-pagination-bullet-active {
            background: #fff !important;
            width: 12px;
            height: 12px;
        }
    }
</style>
{% render 'shogun-products', content: page %}
<div class="shg-clearfix"></div>
{{ page.content }}
{% assign variants1 = all_products['zpg-10502b-pellet-grill'].variants %}
{% assign variants2 = all_products['zpg-7002f2-pellet-grill'].variants %}
{% assign variants3 = all_products['zpg-700d3-pellet-grill'].variants %}
{% assign variants4 = all_products['zpg-1000e-pellet-grill'].variants %}
{% assign variants5 = all_products['multitasker-11002b-wi-fi-pellet-grill'].variants %}
{% assign variants6 = all_products['zpg-l600e-pellet-grill'].variants %}
<script>
    $(function () {
        function price_funs(price) {
            if (!price) return null;

            var priceArray = price.toString().split('');

            // 在最后两位添加 span 标签
            priceArray.splice(priceArray.length - 2, 0, '<span class="last-two">.');
            priceArray.push('</span>');

            // 返回连接后的字符串
            return priceArray.join('');
        }

        function compareFn(number, name) {
            number === null ?
                name.css('display', 'none') :
                name.text(price_fun('$' + number));
        };
        function productImg(Dom, Class) {
            Dom.forEach((a, e) => {
                var haner = ''
                haner = "<div class='swiper-slide'><img class='img lazyload' src='' data-src='" + a + "'></div>"
                Class.append(haner)
            });
        }

        //get product info
        function updateProductDetails(productSelector, product, images) {
            const $product = $(productSelector);
            const $productName = $product.find('h2 a');
            const $reviewsBadge = $product.find('.stamped-product-reviews-badge');
            const $productPriceNew = $product.find('.product-price-new');
            const $productPriceOld = $product.find('.product-price-old');
            const $productOption = $product.find('option');
            const $skuContainer = $product.find('.product_sku');
            const $buyButton = $product.find('.adc-form button');

            // Update product details
            $productName.text(product.title);
            $productName.attr('href', `/products/${product.handle}`);
            $reviewsBadge.attr('data-id', product.id);

            // Enable buy button by default
            $buyButton.prop('disabled', false);
            $buyButton.find('span').text('Add To Cart');

            // Clear existing SKUs
            $skuContainer.empty();

            // Loop through each variant
            product.variants.forEach((variant, index) => {
                // Create SKU element
                const $skuElement = $('<div>').addClass('product_sku_item').append($('<div>').text(variant.title));
                $skuContainer.append($skuElement);

                // Update prices for the first variant
                if (index === 0) {
                    compareFn(variant.price, $productPriceNew);
                    compareFn(variant.compare_at_price, $productPriceOld);
                }

                // Set variant ID as the value for the option
                $productOption.attr('value', variant.id);
            });
        }

        // product click function

        function fun_blindss(className, variants, swiperCount, clickedStyle, unclickedStyle, slide_to_num) {
            $(className + ' .product_sku').off('click', '.product_sku_item');
            // 委托点击事件给包含所有 SKU 的容器
            $(className + ' .product_sku').on('click', '.product_sku_item', function () {
                let clickedSkuElement = $(this);
                clickedSkuElement.css(clickedStyle);

                clickedSkuElement.siblings().css(unclickedStyle);

                var index = clickedSkuElement.index(); // 获取点击的 SKU 的索引
                var selectedVariant = variants[index];

                // 更新价格和其他相关元素
                compareFn(selectedVariant.price, $(className + ' .product-price-new'));
                compareFn(selectedVariant.compare_at_price, $(className + ' .product-price-old'));
                $(className + ' option').attr('value', selectedVariant.id);
                $(className + ' .affirm-as-low-as').attr('data-amount', selectedVariant.price);

                if (swiperCount !== undefined && slide_to_num !== undefined && slide_to_num > 0) {
                    if (index === 0) {
                        swiper[swiperCount].slideTo(0, 500);
                    } else {
                        swiper[swiperCount].slideTo(index + slide_to_num, 500);
                    }
                } else {
                    swiper[swiperCount].slideTo(index, 500);
                }


            });
        }



        const clickedStyle = {
            'background-color': '#000',
            'color': '#fff'
        };

        const unclickedStyle = {
            'background-color': 'transparent',
            'color': '#000',
            'border': '1px solid #000'
        };

        const clickedStyle2 = {
            'background-color': '#F79B02',
            'color': '#000',
            'font-weight': '600'
        };

        const unclickedStyle2 = {
            'background-color': '#fff',
            'color': '#000',
        };


        // 秒杀板块 
        function updateProductDetails_ms(productSelector, product, images, isCheckOut) {
            const $product = $(productSelector);
            const $productName = $product.find('h2 a');
            const $reviewsBadge = $product.find('.stamped-product-reviews-badge');
            const $productPriceNew = $product.find('.product-price-new');
            const $productPriceOld = $product.find('.product-price-old');
            const $productOption = $product.find('option');
            const $skuContainer = $product.find('.product_sku');
            const $inventoryQuantity = $product.find('.inventory_quantity');
            const $buyButton = $product.find('.adc-form button');

            $productName.text(product.title);
            $productName.attr('href', `/products/${product.handle}`);
            $reviewsBadge.attr('data-id', product.id);

            // 获取库存信息
            var inventoryInfo = product.variants[0].inventory_quantity;

            isCheckOut = isCheckOut !== undefined ? isCheckOut : true;
            if (inventoryInfo <= 0 && $buyButton.length > 0) {
                $buyButton.prop('disabled', true);
                $buyButton.parents('.btns').css('background', '#444');
                if (isCheckOut) {
                    $buyButton.find('span').text('Sold Out');
                } else {
                    $buyButton.find('span').text('Coming Soon');
                }
            } else if ($buyButton.length > 0) {
                $buyButton.prop('disabled', false);
                $buyButton.find('span').text('Rush to Buy');
            }

            // 将库存信息添加到容器中
            if ($inventoryQuantity.length > 0) {
                $inventoryQuantity.append(inventoryInfo);
            }

            // Clear existing SKUs
            $skuContainer.empty();

            // 获取外部容器
            // Loop through each variant
            product.variants.forEach((variant, index) => {
                // 创建新的 jQuery 对象，确保每次循环都是独立的
                const $currentProductPriceNew = $product.find('.product-price-new');
                const $currentProductPriceOld = $product.find('.product-price-old');
                const $skuElement = $('<div>')
                    .addClass('product_sku_item')
                    .append($('<div>').text(variant.title));
                $skuContainer.append($skuElement);
                
                // 如果当前变体是第一个变体，更新价格
                if (index === 0) {
                    compareFn(variant.price, $currentProductPriceNew);
                    compareFn(variant.compare_at_price, $currentProductPriceOld);
                }
                $productOption.attr('value', variant.id);
            });

        }

        function fun_blindss_ms(className, variants, swiperCount, isCheckOut, clickedStyle, unclickedStyle, slide_to_num) {
            // 委托点击事件给包含所有 SKU 的容器
            $(className + ' .product_sku').on('click', '.product_sku_item', function () {
                let clickedSkuElement = $(this);
                clickedSkuElement.css(clickedStyle);
                clickedSkuElement.siblings().css(unclickedStyle);

                var index = clickedSkuElement.index(); // 获取点击的 SKU 的索引
                var selectedVariant = variants[index];

                // 更新价格和其他相关元素
                compareFn(selectedVariant.price, $(className + ' .product-price-new'));
                compareFn(selectedVariant.compare_at_price, $(className + ' .product-price-old'));
                $(className + ' option').attr('value', selectedVariant.id);
                $(className + ' .affirm-as-low-as').attr('data-amount', selectedVariant.price);

                // 显示不同的库存信息
                showInventory(selectedVariant.inventory_quantity, $(className + ' .inventory_quantity'));

                // 判断库存是否小于等于 0
                if (selectedVariant.inventory_quantity <= 0) {
                    disableBuyButton($(className + ' .adc-form button'), isCheckOut);
                } else {
                    enableBuyButton($(className + ' .adc-form button'));
                }

                if (swiperCount !== undefined && slide_to_num !== undefined && slide_to_num > 0) {
                    if (index === 0) {
                        swiper[swiperCount].slideTo(0, 500);
                        $(className + ' .box-quantity').css('display', 'flex')
                    } else {
                        swiper[swiperCount].slideTo(index + slide_to_num, 500);
                        $(className + ' .box-quantity').css('display', 'none')
                    }
                } else {
                    swiper[swiperCount].slideTo(index, 500);
                }
            });

            // 显示库存信息的函数
            function showInventory(inventoryQuantity, inventoryElement) {
                inventoryElement.text(` ${inventoryQuantity} `);
            }

            // 禁用购买按钮的函数
            function disableBuyButton($buyButton, isCheckOut) {
                $buyButton.prop('disabled', true);
                if (isCheckOut) {
                    $buyButton.find('span').text('Sold Out');
                } else {
                    $buyButton.find('span').text('Coming Soon');
                }
                $buyButton.parents('.btns').css('background', '#444');
            }

            // 启用购买按钮的函数
            function enableBuyButton($buyButton) {
                $buyButton.prop('disabled', false);
                $buyButton.find('span').text('Rush to Buy');
                $buyButton.parents('.btns').css('background', '#F79B02');
            }
        }



    var product_info_yqdse = {{ all_products['blind-box-gen-3'] | json }};
    var imgs_yqdse = product_info_yqdse.images
    productImg(imgs_yqdse, $('#blind .swiper-wrapper'))
    updateProductDetails('#blind', product_info_yqdse, imgs_yqdse)
    fun_blindss('#blind', product_info_yqdse.variants, 0, clickedStyle, unclickedStyle);

    const product_info_productms1 = {{ all_products['zpg-10502b-pellet-grill'] | json }};
    {% for variant in variants1 %}
    product_info_productms1.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_productms1 = product_info_productms1.images
    productImg(imgs_productms1, $('#productms-1 .swiper-wrapper'))
    updateProductDetails_ms('#productms-1', product_info_productms1, imgs_productms1, false)
    fun_blindss_ms('#productms-1', product_info_productms1.variants, 10, false, clickedStyle2, unclickedStyle2, 1);


    const product_info_productms2 = {{ all_products['zpg-7002f2-pellet-grill'] | json }};
    {% for variant in variants2 %}
    product_info_productms2.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %} 
    var imgs_productms2 =product_info_productms2.images
    productImg(imgs_productms2, $('#productms-2 .swiper-wrapper'))
    updateProductDetails_ms('#productms-2', product_info_productms2, imgs_productms2, false)
    fun_blindss_ms('#productms-2', product_info_productms2.variants, 11, false, clickedStyle2, unclickedStyle2, 1);


    const product_info_productms3 = {{ all_products['zpg-700d3-pellet-grill'] | json }};
    {% for variant in variants3 %}
    product_info_productms3.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_product3 = product_info_productms3.images
    productImg(imgs_product3, $('#product2 .swiper-wrapper'))
    updateProductDetails_ms('#product2', product_info_productms3, imgs_product3)
    fun_blindss_ms('#product2', product_info_productms3.variants, 3,false, clickedStyle2, unclickedStyle2, 1);


    const product_info_productms4 = {{ all_products['zpg-1000e-pellet-grill'] | json }};
    {% for variant in variants4 %}
    product_info_productms4.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_product4 = product_info_productms4.images
    productImg(imgs_product4, $('#product3 .swiper-wrapper'))
    updateProductDetails_ms('#product3', product_info_productms4, imgs_product4)
    fun_blindss_ms('#product3', product_info_productms4.variants, 4,false, clickedStyle2, unclickedStyle2, 1);


    const product_info_productms5 = {{ all_products['multitasker-11002b-wi-fi-pellet-grill'] | json }};
    {% for variant in variants5 %}
    product_info_productms5.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_product55 = product_info_productms5.images
    productImg(imgs_product55, $('#product55 .swiper-wrapper'))
    updateProductDetails_ms('#product55', product_info_productms5, imgs_product55)
    fun_blindss_ms('#product55', product_info_productms5.variants, 8,false, clickedStyle2, unclickedStyle2, 1);


    const product_info_productms6 = {{ all_products['zpg-l600e-pellet-grill'] | json }};
    {% for variant in variants6 %}
    product_info_productms6.variants[{{ forloop.index0 }}].inventory_quantity = {{ variant.inventory_quantity }};
    {% endfor %}
    var imgs_product66 = product_info_productms6.images
    productImg(imgs_product66, $('#product66 .swiper-wrapper'))
    updateProductDetails_ms('#product66', product_info_productms6, imgs_product66)
    fun_blindss_ms('#product66', product_info_productms6.variants, 9,false, clickedStyle2, unclickedStyle2, 1);


    var product_info_product5 = {{ all_products['winter-package'] | json }};
    var product_info_product6 = {{ all_products['zgrills-exclusive-bundle'] | json }};

    function updateProductDetails_slide(productSelector, product, images) {
        const $product = $(productSelector);
        const $productName = $product.find('h2 a');
        const $productOption = $product.find('.product_sku');
        const $productPriceNew = $product.find('.product-price-new');
        const $productPriceOld = $product.find('.product-price-old');
        // const $productImage = $product.find('.p112sdimg img');
        $(document).ready(function () {
            // 获取第一个变体的ID（假设变体数组中的第一个元素是默认选项）
            const firstVariantId = product.variants[0].id;

            // 设置第一个变体的ID给所有的 select 元素
            $('.adc-form select option').val(firstVariantId);

            // 手动触发一次 change 事件，以确保价格和其他元素在初始加载时也被更新
            $('.adc-form select option').trigger('change');
        });
        // 更新产品名称和链接
        $productName.text(product.title);
        $productName.attr('href', `/products/${product.handle}`);
        // $productImage.attr('src', product.images[0])

        // 清空下拉框选项
        $productOption.empty();

        // 遍历所有变体并生成下拉框选项
        product.variants.forEach(variant => {
            const $option = $('<option></option>');
            $option.val(variant.id);
            $option.text(variant.title);
            $productOption.append($option);
        });

        // 添加事件监听器来捕捉下拉框选项的变化
        $productOption.on('change', function () {
            const selectedVariantId = $(this).val();

            // 使用 find 方法查找匹配的变体
            const selectedVariant = product.variants.find(variant => variant.id === parseInt(selectedVariantId));

            if (selectedVariant) {
                // 获取选定的变体的价格和比较价格
                const newPrice = selectedVariant.price;
                const oldPrice = selectedVariant.compare_at_price;

                // 使用 price_funs 函数处理价格
                const formattedNewPrice = price_funs(newPrice);
                const formattedOldPrice = price_funs(oldPrice);

                // 更新价格文本到元素
                $('.product-price-new .sa1s').html(formattedNewPrice);
                $('.product-price-old .sa1s').html(formattedOldPrice);

                // 将选定的值设置给其他 select 元素的对应 option
                $('.adc-form select option').val(selectedVariantId);
                $('#product-singleform select option').val(selectedVariantId)

                // 更新图片
                // if (selectedVariant.featured_image && selectedVariant.featured_image.src) {
                //     const imageSrc = selectedVariant.featured_image.src;
                //     $productImage.attr('src', imageSrc); // 设置图像 URL
                // } else {
                //     console.log('Condition is false');
                // }
            } else {
                console.log("No matching variant found.");
            }
        });


        // 初始化价格信息为第一个变体的价格
        if (product.variants[0].price !== null) {
            const formattedPrice = price_funs(product.variants[0].price);
            const priceText = `<span class="daole">$</span><span class="sa1s">${formattedPrice}</span>`;
            $productPriceNew.html(priceText);
        } else {
            $productPriceNew.text('');
        }

        // 初始化比较价格信息为第一个变体的比较价格
        if (product.variants[0].compare_at_price !== null) {
            const formattedComparePrice = price_funs(product.variants[0].compare_at_price);
            const comparePriceText = `<span class="daole">$</span><span class="sa1s">${formattedComparePrice}</span>`;
            $productPriceOld.html(comparePriceText);
        } else {
            $productPriceOld.text('');
        }


    }
    updateProductDetails_slide('#product5', product_info_product5)
    updateProductDetails_slide('#product6', product_info_product6)




    swiper = [];
    var swiper1 = null
    var arr = [{
        name: '#blind .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product-blind",
                prevEl: ".thumbs1-button-prevs-product-blind",
            },
        },
    }, {
        name: '.swipersb2',
        param: {
            spaceBetween: 10,
            slidesPerView: 1,
            allowTouchMove: true,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productsb2",
                prevEl: ".thumbs1-button-prevs-productsb2",
            },
            pagination: {
                el: '.paginationsb2',
                clickable: true
            },
            breakpoints: {
                pagination: false,
                640: {
                    slidesPerView: 2,
                    spaceBetween: 10,
                },
                1100: {
                    allowTouchMove: false,
                    slidesPerView: 3,
                    spaceBetween: 40,
                }
            },
        },
    }, {
        name: '#product1 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product1",
                prevEl: ".thumbs1-button-prevs-product1",
            },
        },
    }, {
        name: '#product2 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product2",
                prevEl: ".thumbs1-button-prevs-product2",
            },
        },
    }, {
        name: '#product3 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product3",
                prevEl: ".thumbs1-button-prevs-product3",
            },
        },
    }, {
        name: '#product4 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product4",
                prevEl: ".thumbs1-button-prevs-product4",
            },
        },
    }, {
        name: '.swipersb3',
        param: {
            spaceBetween: 0,
            slidesPerView: 1,
            allowTouchMove: true,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productsb3",
                prevEl: ".thumbs1-button-prevs-productsb3",
            },
            pagination: {
                el: '.paginationsb3',
                clickable: true
            },
            breakpoints: {
                pagination: false,
                640: {
                    slidesPerView: 1,
                    spaceBetween: 0,
                },
                1100: {
                    allowTouchMove: false,
                    slidesPerView: 1,
                    spaceBetween: 0,
                }
            },
        },
    }, {
        name: '#certify .swiper-container',
        param: {
            watchSlidesProgress: true,
            slidesPerView: 1.9,
            centeredSlides: true,
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next-review',
                prevEl: '.swiper-button-prev-review',
            },
            on: {
                progress: function (progress) {
                    for (i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i);
                        var slideProgress = this.slides[i].progress;
                        modify = 1;
                        if (Math.abs(slideProgress) > 1) {
                            modify = (Math.abs(slideProgress) - 1) * 0.3 + 1;
                        }
                        translate = slideProgress * modify * 260 + 'px';
                        scale = 1 - Math.abs(slideProgress) / 9;
                        zIndex = 999 - Math.abs(Math.round(10 * slideProgress));
                        slide.transform('translateX(' + translate + ') scale(' + scale + ')');
                        slide.css('zIndex', zIndex);
                        slide.css('opacity', 1);
                        if (Math.abs(slideProgress) > 3) {
                            slide.css('opacity', 0);
                        }
                    }
                },
                setTransition: function (transition) {
                    for (var i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i)
                        slide.transition(transition);
                    }

                }
            }
        },
    }, {
        name: '#product55 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product55",
                prevEl: ".thumbs1-button-prevs-product55",
            },
        },
    }, {
        name: '#product66 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product66",
                prevEl: ".thumbs1-button-prevs-product66",
            },
        },
    },  {
        name: '#productms-1 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-1",
                prevEl: ".thumbs1-button-prevs-productms-1",
            },
        },
    }, {
        name: '#productms-2 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-productms-2",
                prevEl: ".thumbs1-button-prevs-productms-2",
            },
        },
    }]
    arr.forEach((a, e) => {
        // 在每次循环前销毁现有 swiper1 实例
        if (e === 2 && swiper1) {
            swiper1.destroy();
        }

        // 创建新的 Swiper 实例并存储在数组中
        swiper[e] = new Swiper(a.name, a.param);

        // 如果是 swiper1，则将其赋值给独立的变量 swiper1
        if (e === 2) {
            swiper1 = swiper[e];
        }
    });
  
     })

    $(document).ready(function () {
        // 监听窗口尺寸变化事件
        $(window).on('resize', function () {
            checkAndExecuteFunction();
        });

    });



    function checkAndExecuteFunction() {
        if (window.matchMedia('(min-width: 768px)').matches) {
            // 在视口宽度大于等于 768px 时，执行函数
            equalizeGridTextHeight('.swipersb2 .product-info .product-title');
        }
    }

    window.onload = function () {
        // 在这里执行获取高度的逻辑
        checkAndExecuteFunction();
    };

</script>
<script>
    $(document).ready(function () {
        // 为导航链接添加点击事件
        $('.scroll-to').on('click', function (e) {
            e.preventDefault();
            $('.scroll-to').removeClass('selecteds');
            $(this).addClass('selecteds');
            // 获取目标部分的ID
            var targetId = $(this).data('target');

            // 获取目标元素
            var targetElement = document.getElementById(targetId);


            // 使用原生scrollIntoView方法实现平滑滚动
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'  // Adjust the scroll position as needed
                });
            }
        });
    });

</script>