{{ 'jq.js' | asset_url | script_tag }}
{{ 'swiper.css' | asset_url | stylesheet_tag }}
{{ 'swiper.js' | asset_url | script_tag }}
{% comment %}
Auto-generated by Shogun.
This file can be re-written at any time.
{% endcomment %}

{% render 'shogun-products', content: page %}
<div class="shg-clearfix"></div>
{{ page.content }}
<style>
    .title-weight h2,
    .title-weight h1,
    .title-weight h3,
    .title-weight span,
    .title-weight a {
        font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif !important;
        font-weight: 400;
    }

    .page_widths {
        margin: 0 auto !important;
        max-width: 1420px;
    }

    .shg-row p {
        margin: 0 !important;
    }

    .lazyloaded {
        width: 100%;
        display: block;
    }

    .swiper {
        width: 100%;
    }

    .product-box {
        display: flex;
        display: -webkit-flex;
        overflow: hidden;
        align-items: center;
        justify-content: space-between;
        /* margin: 0 -30px */
    }


    #blind {
        margin: 0;
        padding: 30px;
    }

    .product-box svg,
    #productbig svg {
        color: #000;
    }

    .reviews img {
        width: 100%;
    }

    .reviews {
        display: flex;
        justify-content: space-between;
        padding: 3%;
        min-height: 350px;
        align-items: center;
    }


    .name {
        font-weight: 600;
    }

    .testimonial-stars {
        color: #fea801;
    }

    .reviews h2 {
        font-weight: 700;
    }

    #certify {
        position: relative;
        margin: 0 auto;
        overflow: hidden;
    }

    #certify .swiper-container {
        padding: 20px 0;
    }

    #certify .swiper-slide {
        background: #fff;
        box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.16);
    }

    #certify .swiper-slide img {
        display: block;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet {
        margin: 0 5px;
        border: 3px solid #fff;
        background-color: #d5d5d5;
        width: 10px;
        height: 10px;
        opacity: 1;
    }

    #certify .swiper-pagination-bullets .swiper-pagination-bullet-active {
        border: 3px solid #B70101;
        background-color: #fff;
    }

    #certify .swiper-button-prev,
    #certify .swiper-button-next {
        color: #000;
    }

    .product-title {
        font-size: 24px;
        margin-top: 10px;
    }

    .product-price-new {
        display: inline-block;
        color: #bc3d1d;
        font-size: 30px;
        font-weight: 700;
    }

    .product-price-old {
        display: inline-block;
        color: #000;
        font-size: 20px;
        text-decoration: line-through #bc3d1d;
        -webkit-text-decoration: line-through #bc3d1d;
        font-weight: 600;
    }

    .product_sku {
        display: flex;
        display: -webkit-flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 5px 0;
    }

    .product_sku .product_sku_item:nth-child(1) {
        background: #000;
        color: #fff;
    }


    .product_sku .product_sku_item {
        width: 49%;
        border: 1px solid #000;
        color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        border-radius: 5px;
        cursor: pointer;
    }

   

    .product_sku_item div {
        text-align: center;
        padding: 9px 5px;
        cursor: pointer;
    }

    .btns {
        background-color: #bc3d1d;
        text-align: center;
        border-radius: 5px;
        width: 100%;
    }

    .btns button {
        width: 100%;
        height: 100%;
        padding: 8px 0;
    }

    .btns span {
        font-weight: 700;
        font-size: 18px;
        color: #fff;
    }

    .infos ul {
        margin: 10px 0;
    }

    .infos li {
        list-style: none;
        display: flex;
        align-items: center;
    }

    .infos p {
        margin-bottom: 10px !important;
    }

    .infos li::before {
        content: '';
        display: inline-block;
        margin-right: 3px;
        background-color: #bc3d1d;
        width: 5px;
        height: 5px;
        border-radius: 50%;
    }

    .wihites .product-title a,
    .wihites .stamped-badge-caption,
    .wihites .product-price-old,
    .wihites .affirm-as-low-as,
    .wihites .__affirm-logo,
    .wihites .affirm-modal-trigger,
    .wihites ul,
    .wihites p {
        color: #fff;
    }

   

    @media screen and (min-width: 768px) {

        .msp {
            align-items: baseline;
        }
        
        .product-box-item {
            flex: 1;
            /* margin: 0 30px; */
            max-width: calc(50% - 10px);
        }

        #blind .product-box-item {
            flex: 1;
            max-width: calc(33% - 10px);
        }

        #three-box .product-box-item , #product11 .product-box-item{
            flex: 1;
            margin: 0 10px;
            max-width: calc(33% - 10px);
        }

        #three-box #product0,
        .wihites .product-box-item,
        #three-box #product3,
        #blind {
            margin-left: 0;
        }

        #product0 .product-box-item:nth-child(1) {
            margin-left: 0;
        }

        #blind .product-box-item:nth-child(1) {
            margin-left: 0;
        }

        .reviews div:nth-child(1) {
            width: 70%;
        }

        .reviews div:nth-child(2) {
            width: 27%;
        }

        .product-box-item:nth-child(2n) {
            margin: 0;
        }

        .flex {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
            background: #F1F2F6;
            padding: 10px;
            border-radius: 5px;
        }

        #s-363b156c-6c8b-4963-8f9b-7cda95bea9b4 {
            background-size: 100% 100% !important;
        }

        #s-f2665acd-45ec-4303-b489-8eaa034447e7 {
            position: relative;
        }

        #s-f2665acd-45ec-4303-b489-8eaa034447e7 .shg-c-lg-4::before {
            content: '';
            width: 1px;
            height: 80%;
            background-color: #CAC9C9;
            display: block;
            position: absolute;
            right: 0;
            top: 10%;
        }

        #s-f2665acd-45ec-4303-b489-8eaa034447e7 .shg-c-lg-4:last-child::before {
            content: '';
            width: 0;
        }

    }

    .flex img {
        width: 20px;
        margin-right: 5px;
    }

    .flex div {
        display: flex;
        align-items: center;
    }

    @media screen and (max-width: 768px) {

        .flex {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 10px;
            margin: 10px 0;
            background: #F1F2F6;
            padding: 10px;
            border-radius: 5px;
        }

        .product-box {
            flex-wrap: wrap;
            margin: 0 10px;
        }

        .product-box-item {
            width: 100%;
        }

        .reviews {
            display: block;
            padding: 5%;
            color: #000;
            border: 1px solid #000;
            margin: 0 15px;
            background-color: #fff;
            min-height: 450px;
        }

        .reviews img {
            display: none;
        }

        .product-box-item:nth-child(2n) {
            margin: 20px 0;
        }

        #blind .product-title {
            font-size: 24px;
        }

        #blind {
            margin: 0 10px;
            padding: 10px;
        }

    }

    .oasdj15 {
        padding: 0 30px;
        position: relative;
    }

    .oasdj15 .thumbs1-button-nexts-productbig {
        right: -15px;
        background: #bc3d1d;
        border-radius: 50%;
        width: 40px;
        height: 40px;
    }

    .oasdj15 .thumbs1-button-nexts-productbig svg {
        color: #fff;
    }

    .oasdj15 .thumbs1-button-prevs-productbig {
        left: -15px;
        background: #bc3d1d;
        border-radius: 50%;
        width: 40px;
        height: 40px;
    }

    .oasdj15 .thumbs1-button-prevs-productbig svg {
        color: #fff;
    }

    @media screen and (max-width: 768px) {
        .oasdj15 .thumbs1-button-nexts-productbig {
            right: 0;
            background: #bc3d1d;
            border-radius: 50%;
            width: 30px;
            height: 30px;
        }

        .oasdj15 .thumbs1-button-prevs-productbig {
            left: 0;
            background: #bc3d1d;
            border-radius: 50%;
            width: 30px;
            height: 30px;
        }

        #blind .product-title,
        #product0 .product-title {
            font-size: 24px;
        }
    }

    #s-44b3655e-1dd6-4520-b9e3-590bde7d7d25 .shg-row .shg-c-lg-6:nth-child(1) {
        box-shadow: 10px 0px 15px 0px rgba(0, 0, 0, 0.2);
        z-index: 10;
        position: relative;
    }

    .mySwiper-re .swiper-pagination-bullet-active {
        background-color: #000;
    }

    #product11 .product_sku {
        color: #000;
        width: 100%;
        max-width: 483px;
        background-color: #fff;
        border-radius: 8px;
        text-align: center;
        font-weight: 600;
        margin: 10px 0;
    }

    #product11 .product_sku option {
        border: 1px solid #fff;
    }

    input:active,
    input:focus,
    select:active,
    select:focus,
    textarea:active,
    textarea:focus {
        border: 1px solid;
        border-color: #000 !important;
    }

    #product11 .btns {
        background-color: #bc3d1d;
        text-align: center;
        border-radius: 5px;
        width: 100%;
        max-width: 483px;
    }

   
</style>


<script>
    $(function () {
        function compareFn(number, name) {
            number === null ?
                name.css('display', 'none') :
                name.text(price_fun('$' + number));
        };



    var product_info_product1 = {{ all_products['zpg-7002f2-pellet-grill'] | json }};
    var imgs_product1 = product_info_product1.images

    var product_info_product2 = {{ all_products['zpg-700d4e-pellet-grill'] | json }};
    var imgs_product2 = product_info_product2.images

    var product_info_product3 = {{ all_products['zpg-1000e-pellet-grill'] | json }};
    var imgs_product3 = product_info_product3.images

    var product_info_product4 = {{ all_products['multitasker-11002b-wi-fi-pellet-grill'] | json }};
    var imgs_product4 = product_info_product4.images
        


    var product_info_yqdse = {{ all_products['z-grills-pellet-grill-blind-box-with-pid-and-grill-cover'] | json}};
    var imgs_yqdse = product_info_yqdse.images


    function productImg(Dom, Class) {
        Dom.forEach((a, e) => {
            var haner = ''
            haner = "<div class='swiper-slide'><img class='img lazyload' src='' data-src='" + a + "'></div>"
            Class.append(haner)
        });
    }
    productImg(imgs_yqdse, $('#blind .swiper-wrapper'))

    productImg(imgs_product1, $('#product1 .swiper-wrapper'))
    productImg(imgs_product2, $('#product2 .swiper-wrapper'))
    productImg(imgs_product3, $('#product3 .swiper-wrapper'))
    productImg(imgs_product4, $('#product4 .swiper-wrapper'))

    function updateProductDetails(productSelector, product, images) {
        const $product = $(productSelector);
        const $productName = $product.find('h2 a');
        const $reviewsBadge = $product.find('.stamped-product-reviews-badge');
        const $variant1Element = $product.find('.product_sku_item1 div');
        const $variant2Element = $product.find('.product_sku_item2 div');
        const $productPriceNew = $product.find('.product-price-new');
        const $productPriceOld = $product.find('.product-price-old');
        const $productOption = $product.find('option');

        const variant1 = product.variants[1];
        const variant2 = product.variants[0];


        $productName.text(product.title);
        $productName.attr('href', `/products/${product.handle}`);
        $reviewsBadge.attr('data-id', product.id);
        $variant1Element.text(variant2.title);

        if (variant1?.title) {
            $variant2Element.show().text(variant1.title);
        } else {
            $variant2Element.parent().hide();
            $variant1Element.parent().css('width', '100%'); 
        }

        compareFn(variant2.price, $productPriceNew);
        compareFn(variant2.compare_at_price, $productPriceOld);

        $productOption.attr('value', variant2.id);
    }

    updateProductDetails('#blind', product_info_yqdse, imgs_yqdse)
    updateProductDetails('#product1', product_info_product1, imgs_product1)
    updateProductDetails('#product2', product_info_product2, imgs_product2)
    updateProductDetails('#product3', product_info_product3, imgs_product3)
    updateProductDetails('#product4', product_info_product4, imgs_product4)

    function fun_blind(className, variant, swiperCount) {
        $(className + ' .product_sku_item').click(function () {
            let dom = $(this)
            dom.css({
                'background-color': '#000',
                'color': "#fff"
            })
            dom.siblings().css({
                'background-color': "transparent",
                'color': "#000",
                'border': '1px solid #000'
            })
            var indexs = $(this).index()
            if (indexs === 1) {
                compareFn(variant[1].price, $(className + ' .product-price-new'))
                compareFn(variant[1].compare_at_price, $(className + ' .product-price-old'))
                $(className + ' option').attr('value', variant[1].id)
                $(className + ' .affirm-as-low-as').attr('data-amount', variant[1].price)
                if (swiperCount !== undefined) {
                    swiper[swiperCount].slideTo(1, 500);
                }

            } else {
                compareFn(variant[0].price, $(className + ' .product-price-new'))
                compareFn(variant[0].compare_at_price, $(className + ' .product-price-old'))
                $(className + ' option').attr('value', variant[0].id)
                $(className + ' .affirm-as-low-as').attr('data-amount', variant[0].price)
                if (swiperCount !== undefined) {
                    swiper[swiperCount].slideTo(0, 500);
                }
            }
        })
    }
    fun_blind('#blind', product_info_yqdse.variants, 3)
  

    function fun_noblind(className, variant, swiperCount) {
        $(className + ' .product_sku_item').click(function () {
            let dom = $(this)
            dom.css({
                'background-color': '#000',
                'color': "#fff"
            })
            dom.siblings().css({
                'background-color': "transparent",
                'color': "#000",
                'border': '1px solid #000'
            })
            var indexs = $(this).index()
            if (indexs === 1) {
                compareFn(variant[1].price, $(className + ' .product-price-new'))
                compareFn(variant[1].compare_at_price, $(className + ' .product-price-old'))
                $(className + ' option').attr('value', variant[1].id)
                $(className + ' .affirm-as-low-as').attr('data-amount', variant[1].price)
                if (swiperCount !== undefined) {
                    swiper[swiperCount].slideTo(2, 500);
                }

            } else {
                compareFn(variant[0].price, $(className + ' .product-price-new'))
                compareFn(variant[0].compare_at_price, $(className + ' .product-price-old'))
                $(className + ' option').attr('value', variant[0].id)
                $(className + ' .affirm-as-low-as').attr('data-amount', variant[0].price)
                if (swiperCount !== undefined) {
                    swiper[swiperCount].slideTo(0, 500);
                }
            }
        })
    }
    fun_noblind('#product1', product_info_product1.variants, 1)
    fun_noblind('#product2', product_info_product2.variants, 2)
    fun_noblind('#product3', product_info_product1.variants, 4)
    fun_noblind('#product4', product_info_product2.variants, 5)

    swiper = [];
    var arr = [{
        name: '#certify .swiper-container',
        param: {
            watchSlidesProgress: true,
            slidesPerView: 1.9,
            centeredSlides: true,
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next-review',
                prevEl: '.swiper-button-prev-review',
            },
            on: {
                progress: function (progress) {
                    for (i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i);
                        var slideProgress = this.slides[i].progress;
                        modify = 1;
                        if (Math.abs(slideProgress) > 1) {
                            modify = (Math.abs(slideProgress) - 1) * 0.3 + 1;
                        }
                        translate = slideProgress * modify * 260 + 'px';
                        scale = 1 - Math.abs(slideProgress) / 9;
                        zIndex = 999 - Math.abs(Math.round(10 * slideProgress));
                        slide.transform('translateX(' + translate + ') scale(' + scale + ')');
                        slide.css('zIndex', zIndex);
                        slide.css('opacity', 1);
                        if (Math.abs(slideProgress) > 3) {
                            slide.css('opacity', 0);
                        }
                    }
                },
                setTransition: function (transition) {
                    for (var i = 0; i < this.slides.length; i++) {
                        var slide = this.slides.eq(i)
                        slide.transition(transition);
                    }

                }
            }
        },
    }, {
        name: '#product1 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product1",
                prevEl: ".thumbs1-button-prevs-product1",
            },
        },
    }, {
        name: '#product2 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product2",
                prevEl: ".thumbs1-button-prevs-product2",
            },
        },
    }, {
        name: '#blind .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product-blind",
                prevEl: ".thumbs1-button-prevs-product-blind",
            },
        },
    }, {
        name: '#product3 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product3",
                prevEl: ".thumbs1-button-prevs-product3",
            },
        },
    }, {
        name: '#product4 .swiper',
        param: {
            spaceBetween: 10,
            navigation: {
                nextEl: ".thumbs1-button-nexts-product4",
                prevEl: ".thumbs1-button-prevs-product4",
            },
        },
    }]
    arr.forEach((a, e) => {
        swiper[e] = new Swiper(a.name, a.param)
    });


})

    $(document).ready(function () {
        // 初始化时执行一次
        checkAndExecuteFunction();

        // 监听窗口尺寸变化事件
        $(window).on('resize', function () {
            checkAndExecuteFunction();
        });
    });

    function checkAndExecuteFunction() {
        if (window.matchMedia('(min-width: 768px)').matches) {
            // 在视口宽度大于等于 768px 时，执行函数
            equalizeGridTextHeight('.msp .product-info .product-title');
        }
    }



</script>